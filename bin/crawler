#!/usr/bin/env php
<?php

/*
 * This file is part of the Rhein Neckar Rocks Crawler project.
 *
 * (c) Rhein Neckar Rocks
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */

require_once(__DIR__ . '/../vendor/autoload.php');

// load configuration
$dotenv = new Dotenv\Dotenv(dirname(__DIR__));
$dotenv->load();

// configure Repository Factory
\RNRocks\Repository\RepositoryFactory::initialize(
    new \RNRocks\Repository\AtomFeedEventRepository(),
    new \RNRocks\Repository\RssFeedEventRepository(),
    new \RNRocks\Repository\MeetupEventRepository($_ENV['MEETUP_API_KEY'])
);

$cli = new \RNRocks\CliApplication(new \RNRocks\CrawlerCommand());
$cli->run();
